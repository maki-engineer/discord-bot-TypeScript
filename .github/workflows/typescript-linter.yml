name: ESLint

on:
    pull_request:
        branches: master

jobs:
    eslint:
        runs-on: ubuntu-latest
        permissions:
            contents: read
            pull-requests: write
        defaults:
            run:
                working-directory: discord-app
        steps:
              - uses: actions/checkout@v4
              - uses: actions/setup-node@v4
                with:
                    node-version: "20"
              - run: npm install
              - uses: reviewdog/action-eslint@v1
                with:
                    github_token: ${{ secrets.GITHUB_TOKEN }}
                    reporter: github-pr-review
                    eslint_flags: "src/"
                    workdir: .
