name: UnitTest Check

on:
    push

jobs:
    jest:
        runs-on: ubuntu-latest
        steps:
              - uses: actions/checkout@master
              - uses: actions/setup-node@v4
                with:
                    node-version: "20"
              - run: |
                  npm install && 
                  npx tsc -p . && 
                  npm install sequelize-cli && 
                  npx sequelize-cli db:migrate --env unittest && 
                  npm run test
                env:
                    USER_ID_FOR_MAKI: ${{ secrets.USER_ID_FOR_MAKI }}
